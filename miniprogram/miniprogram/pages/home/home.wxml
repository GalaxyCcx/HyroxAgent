<!--é¦–é¡µ-->
<view class="page-container">
  <!-- èƒŒæ™¯å›¾ç‰‡åŒºåŸŸ -->
  <view class="bg-image-container">
    <image 
      class="bg-image" 
      src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=800&auto=format&fit=crop"
      mode="aspectFill"
    />
    <view class="bg-gradient"></view>
  </view>
  
  <view class="content">
    <!-- ä¸»æ ‡é¢˜ -->
    <view class="hero-section">
      <view class="hero-title">
        <text class="title-main">è¯»æ‡‚æ¯”èµ›</text>
        <text class="title-sub">è°å·èµ°äº†ä½ çš„ 5 åˆ†é’Ÿ?</text>
      </view>
    </view>

    <!-- æœç´¢æ  -->
    <view class="search-box" bindtap="onSearchTap">
      <view class="search-icon">ğŸ”</view>
      <input 
        class="search-input"
        type="text"
        placeholder="è¾“å…¥ å§“å / å·ç  / é˜Ÿå"
        disabled="{{true}}"
      />
      <view class="search-btn">å»è¯Šæ–­</view>
    </view>

    <!-- è¿‘æœŸèµ›äº‹ -->
    <view class="section">
      <view class="section-header">
        <text class="section-title">è¿‘æœŸèµ›äº‹</text>
      </view>

      <!-- åŠ è½½çŠ¶æ€ -->
      <view class="loading" wx:if="{{racesLoading}}">
        <view class="loading-spinner"></view>
        <text class="loading-text">åŠ è½½ä¸­...</text>
      </view>

      <!-- é”™è¯¯çŠ¶æ€ -->
      <view class="error-tip" wx:if="{{!racesLoading && error}}">
        <text class="error-text">{{error}}</text>
        <view class="retry-btn" bindtap="loadRecentRaces">é‡è¯•</view>
      </view>

      <!-- èµ›äº‹åˆ—è¡¨ -->
      <view class="race-list" wx:if="{{!racesLoading && !error}}">
        <view 
          class="race-card"
          wx:for="{{recentRaces}}"
          wx:key="id"
          data-race="{{item}}"
          bindtap="onRaceTap"
        >
          <!-- å·¦ä¾§ï¼šèµ›å­£ -->
          <view class="race-season">
            <text class="season-year">{{item.year || '----'}}</text>
            <text class="season-num">S{{item.season}}</text>
          </view>
          
          <!-- ä¸­é—´ï¼šèµ›äº‹ä¿¡æ¯ -->
          <view class="race-info">
            <text class="race-name">{{item.name}}</text>
            <view class="race-meta">
              <text class="meta-venue">ğŸ“ {{item.venue}}</text>
              <text class="meta-participants" wx:if="{{item.participants}}">â€¢ {{item.participants}} äººå‚èµ›</text>
            </view>
          </view>
          
          <!-- å³ä¾§ï¼šçŠ¶æ€ -->
          <view class="race-status">
            <view class="status-badge">
              <text class="status-icon">âœ“</text>
              <text class="status-text">å·²å®Œèµ›</text>
            </view>
            <text class="arrow">â€º</text>
          </view>
        </view>

        <!-- ç©ºçŠ¶æ€ -->
        <view class="empty" wx:if="{{recentRaces.length === 0}}">
          <text class="empty-icon">ğŸƒ</text>
          <text class="empty-text">æš‚æ— èµ›äº‹æ•°æ®</text>
        </view>
      </view>
    </view>
  </view>
</view>
