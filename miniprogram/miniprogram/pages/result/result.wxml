<!--æ¯”èµ›åˆ—è¡¨é¡µé¢ - å¯¹æ ‡æ­£å¼ç‰ˆ-->
<view class="page-container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="back-btn" bindtap="onBack">
      <text class="back-icon">â€¹</text>
    </view>
    <text class="header-title">{{athleteName}}</text>
    <view class="search-btn">
      <text class="search-icon">ğŸ”</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
  
  <!-- é”™è¯¯çŠ¶æ€ -->
  <view class="error-state" wx:if="{{!loading && error}}">
    <text class="error-icon">âš ï¸</text>
    <text class="error-text">{{error}}</text>
    <view class="retry-btn" bindtap="onRetry">é‡è¯•</view>
  </view>
  
  <!-- æ¯”èµ›åˆ—è¡¨ -->
  <view class="content" wx:if="{{!loading && !error}}">
    <!-- å‰¯æ ‡é¢˜ -->
    <text class="subtitle">{{raceList.length}} åœºæ¯”èµ›è®°å½•</text>
    
    <!-- æ¯”èµ›å¡ç‰‡åˆ—è¡¨ -->
    <view class="race-list" wx:if="{{raceList.length > 0}}">
      <view 
        class="race-card"
        wx:for="{{raceList}}"
        wx:key="id"
        data-item="{{item}}"
        bindtap="onTapRace"
      >
        <!-- å·¦ä¾§å¤§Sæ ‡ç­¾ -->
        <view class="season-badge">
          <text class="season-text">S{{item.season}}</text>
        </view>
        
        <!-- ä¸­é—´èµ›äº‹ä¿¡æ¯ -->
        <view class="race-info">
          <text class="race-event">{{item.event_name}}</text>
          <text class="race-division">{{item.division}}</text>
        </view>
        
        <!-- å³ä¾§æ—¶é—´å’ŒæŒ‰é’® -->
        <view class="race-right">
          <text class="race-time">{{item.total_time}}</text>
          <view class="view-btn">æŸ¥çœ‹</view>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{raceList.length === 0}}">
      <view class="empty-icon">ğŸƒ</view>
      <text class="empty-text">æš‚æ— æ¯”èµ›è®°å½•</text>
    </view>
  </view>
</view>
