<!--pages/index/index.wxml-->
<view class="page-container">
  <!-- æœç´¢æ¡† -->
  <view class="search-box">
    <view class="search-input-wrapper">
      <view class="search-icon">ğŸ”</view>
      <input 
        class="search-input"
        type="text"
        placeholder="æœç´¢è¿åŠ¨å‘˜å§“å..."
        placeholder-class="search-placeholder"
        value="{{searchValue}}"
        bindinput="onSearchInput"
        bindconfirm="onSearchConfirm"
        confirm-type="search"
      />
      <view 
        class="clear-icon" 
        wx:if="{{searchValue}}"
        bindtap="onClearSearch"
      >âœ•</view>
    </view>
  </view>
  
  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">æœç´¢ä¸­...</text>
  </view>
  
  <!-- é”™è¯¯æç¤º -->
  <view class="error-tip" wx:if="{{error}}">
    <text class="error-text">{{error}}</text>
    <view class="retry-btn" bindtap="onSearchConfirm">é‡è¯•</view>
  </view>
  
  <!-- æœç´¢ç»“æœåˆ—è¡¨ -->
  <view class="results-list" wx:if="{{!loading && !error && results.length > 0}}">
    <view 
      class="athlete-card"
      wx:for="{{results}}"
      wx:key="id"
      data-item="{{item}}"
      bindtap="onTapAthlete"
    >
      <view class="card-header">
        <view class="athlete-name">{{item.name}}</view>
        <view class="athlete-time">{{item.total_time}}</view>
      </view>
      <view class="card-body">
        <view class="info-row">
          <text class="info-label">æ¯”èµ›</text>
          <text class="info-value">{{item.event_name}}</text>
        </view>
        <view class="info-row">
          <text class="info-label">ç»„åˆ«</text>
          <text class="info-value">{{item.gender === 'male' ? "Men's" : "Women's"}} {{item.division}}</text>
        </view>
        <view class="info-row" wx:if="{{item.age_group}}">
          <text class="info-label">å¹´é¾„ç»„</text>
          <text class="info-value">{{item.age_group}}</text>
        </view>
        <view class="info-row" wx:if="{{item.nationality}}">
          <text class="info-label">å›½ç±</text>
          <text class="info-value">{{item.nationality}}</text>
        </view>
      </view>
      <view class="card-arrow">â€º</view>
    </view>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:if="{{!loading && !error && searched && results.length === 0}}">
    <view class="empty-icon">ğŸƒ</view>
    <text class="empty-text">æœªæ‰¾åˆ°ç›¸å…³è¿åŠ¨å‘˜</text>
    <text class="empty-hint">è¯·å°è¯•å…¶ä»–æœç´¢å…³é”®è¯</text>
  </view>
  
  <!-- åˆå§‹çŠ¶æ€ -->
  <view class="initial" wx:if="{{!loading && !error && !searched}}">
    <view class="initial-icon">ğŸ…</view>
    <text class="initial-text">è¾“å…¥è¿åŠ¨å‘˜å§“åå¼€å§‹æœç´¢</text>
    <text class="initial-hint">æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œä¸åŒºåˆ†å¤§å°å†™</text>
  </view>
</view>




