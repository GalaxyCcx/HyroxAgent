{
  "section_id": "summary",
  "description": "核心摘要章节 V4 - ROXSCAN 评分环形图 + 5维雷达图 + 三维能力列表",
  
  "tool": {
    "type": "function",
    "function": {
      "name": "generate_summary_section",
      "description": "生成核心摘要章节的完整内容，包含 ROXSCAN 环形评分卡片、总评文本、5维能力雷达图、三维能力详情列表",
      "parameters": {
        "type": "object",
        "properties": {
          
          "roxscan_card": {
            "type": "object",
            "description": "ROXSCAN 综合评分卡片（环形进度图样式）",
            "properties": {
              "score": {
                "type": "integer",
                "minimum": 0,
                "maximum": 100,
                "description": "ROXSCAN 综合评分 (0-100)"
              },
              "level": {
                "type": "string",
                "enum": ["S", "A", "B", "C", "D"],
                "description": "能力等级"
              },
              "level_name": {
                "type": "string",
                "description": "等级名称，如'精英潜力组'、'进阶精英'、'中高级'、'进步中'、'入门级'"
              },
              "level_description": {
                "type": "string",
                "description": "等级描述，如'你的综合实力位于全球前 X% 的选手行列'"
              }
            },
            "required": ["score", "level", "level_name", "level_description"]
          },
          
          "summary_text": {
            "type": "string",
            "maxLength": 500,
            "description": "总评文本段落，必须以「总评：」开头，分析运动员的核心优势、短板原因和提升方向，需包含具体的成绩目标"
          },
          
          "radar_chart": {
            "type": "object",
            "description": "5维能力雷达图",
            "properties": {
              "dimensions": {
                "type": "object",
                "description": "5维能力值",
                "properties": {
                  "strength": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "力量：基于功能站(Sled Push/Pull, Sandbag等)表现"
                  },
                  "aerobic": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "有氧：基于8段跑步整体表现"
                  },
                  "speed": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "速度：基于单圈最快配速和爆发力站点"
                  },
                  "recovery": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "恢复：基于后半程掉速率和心率漂移"
                  },
                  "transition": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "转换：基于 Roxzone 时间效率"
                  }
                },
                "required": ["strength", "aerobic", "speed", "recovery", "transition"]
              }
            },
            "required": ["dimensions"]
          },
          
          "dimension_list": {
            "type": "array",
            "description": "三维能力详情列表（力量/有氧/转换）",
            "minItems": 3,
            "maxItems": 3,
            "items": {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string",
                  "enum": ["strength", "aerobic", "transition"],
                  "description": "维度标识"
                },
                "icon": {
                  "type": "string",
                  "description": "维度图标 emoji"
                },
                "name": {
                  "type": "string",
                  "description": "维度名称，格式如'绝对力量 (Strength)'"
                },
                "score": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 100,
                  "description": "维度评分"
                },
                "grade": {
                  "type": "string",
                  "enum": ["S", "A", "B", "C", "D"],
                  "description": "维度等级"
                },
                "description": {
                  "type": "string",
                  "description": "维度描述，需包含具体数据，如'Sled Pull 成绩击败全球 92% 同组别选手'"
                }
              },
              "required": ["key", "icon", "name", "score", "grade", "description"]
            }
          }
          
        },
        "required": ["roxscan_card", "summary_text", "radar_chart", "dimension_list"]
      }
    }
  },
  
  "tool_choice": {
    "type": "function",
    "function": {
      "name": "generate_summary_section"
    }
  },
  
  "blocks_mapping": {
    "roxscan_card": {
      "type": "card",
      "component": "ScoreRing"
    },
    "summary_text": {
      "type": "text",
      "component": "SummaryText"
    },
    "radar_chart": {
      "type": "chart",
      "component": "RadarChart5D"
    },
    "dimension_list": {
      "type": "list",
      "component": "DimensionList"
    }
  }
}
